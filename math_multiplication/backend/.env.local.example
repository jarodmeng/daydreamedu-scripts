# Supabase Database Configuration
# In Supabase UI: click "Connect" (top bar) → Connection string → Transaction pooler
# Format: postgresql://postgres.<PROJECT_REF>:[PASSWORD]@aws-<n>-<region>.pooler.supabase.com:6543/postgres?sslmode=require

# For testing/development (local dev + e2e)
# Use the Transaction pooler URL from the main "math_practice" project:
#
#   postgresql://postgres.bcyvuwcktwljsdbsjuyx:<PASSWORD>@aws-<n>-<region>.pooler.supabase.com:6543/postgres?sslmode=require
#
# Remember to URL-encode the password if it contains `/`, `@`, `:`, `%`, etc.
ENVIRONMENT=test
DATABASE_URL=postgresql://postgres.bcyvuwcktwljsdbsjuyx:your_urlencoded_password@aws-1-your-region.pooler.supabase.com:6543/postgres?sslmode=require

# Note (Python 3.13): the backend uses psycopg v3; `postgresql://...` is fine.

# Supabase Auth (Google login)
# Used by the backend to verify the Supabase access token (JWT) via JWKS.
SUPABASE_URL=https://bcyvuwcktwljsdbsjuyx.supabase.co
# Supabase JWT audience for signed-in users is typically "authenticated"
SUPABASE_JWT_AUD=authenticated

# For production, use ENVIRONMENT=production and a DATABASE_URL that points to
# the same project but (optionally) a different database or role. Secrets are
# stored in Secret Manager and injected into Cloud Run, not committed here.
